#!/bin/sh

GIT_COMMNAD="git"
SITE_PACKAGES_DIR="function/site-packages"
cwd=`dirname "$0"`
expr "$0" : "/.*" > /dev/null || cwd=`(cd "$cwd" && pwd)`

if ! type "$GIT_COMMNAD" > /dev/null; then
    echo "$GIT_COMMNAD command doesn't exist! Please install git here"
    exit 0
fi

cd $cwd

if [ ! -e $SITE_PACKAGES_DIR ]
then
    echo "Creating directory $SITE_PACKAGES_DIR"
    mkdir -p $SITE_PACKAGES_DIR
fi

cd $SITE_PACKAGES_DIR
echo "getting copy of the latest feedparser from github...."
git clone https://github.com/kurtmckee/feedparser.git
mv feedparser feedparser_
mv feedparser_/feedparser .
rm -rf feedparser_

echo "done!"
exit 0
